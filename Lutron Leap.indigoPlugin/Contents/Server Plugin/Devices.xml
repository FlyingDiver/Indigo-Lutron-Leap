<?xml version="1.0"?>
<Devices>
    <Device id="leapHub" type="custom">
        <Name>Lutron Hub</Name>
        <ConfigUI>
            <Field id="address" type="menu">
                <Label>Hub:</Label>
                <List class="self" method="get_hub_list" dynamicReload="true"/>
                <CallbackMethod>menuChanged</CallbackMethod>
            </Field>
            <Field id="pair_hub_note" type="label">
                <Label>Pressing "Save" here will initiate the pairing process with the hub. Press the pairing button on Hub.</Label>
            </Field>
        </ConfigUI>
        <States>
            <State id="ProtocolVersion" defaultValue="">
                <ValueType>String</ValueType>
                <TriggerLabel>Protocol Version</TriggerLabel>
                <ControlPageLabel>Protocol Version</ControlPageLabel>
            </State>
            <State id="status" defaultValue="Unknown">
                <ValueType>String</ValueType>
	            <TriggerLabel>System State is</TriggerLabel>
	            <ControlPageLabel>System State</ControlPageLabel>
            </State>
        </States>
        <UiDisplayStateId>status</UiDisplayStateId>
    </Device>

    <Device id="leapDimmer" type="dimmer">
        <Name>Sensor</Name>
        <ConfigUI>
			<Field id="SupportsOnState" type="checkbox" defaultValue="true" hidden="true" />
             <Field id="hub" type="menu">
                <Label>Hub:</Label>
                <List class="self" method="get_hub_list" dynamicReload="true"/>
                <CallbackMethod>menuChanged</CallbackMethod>
            </Field>
            <Field id="address" type="menu">
                <Label>Device:</Label>
                <List class="self" method="get_device_list" filter="dimmer" dynamicReload="true"/>
                <CallbackMethod>menuChanged</CallbackMethod>
            </Field>
        </ConfigUI>
        <States>
            <State id="area" defaultValue="">
                <ValueType>String</ValueType>
                <TriggerLabel>Area</TriggerLabel>
                <ControlPageLabel>Area</ControlPageLabel>
            </State>
            <State id="device_id" defaultValue="">
                <ValueType>String</ValueType>
                <TriggerLabel>device_id</TriggerLabel>
                <ControlPageLabel>device_id</ControlPageLabel>
            </State>
            <State id="device_name" defaultValue="">
                <ValueType>String</ValueType>
                <TriggerLabel>device_name</TriggerLabel>
                <ControlPageLabel>device_name</ControlPageLabel>
            </State>
            <State id="model" defaultValue="">
                <ValueType>String</ValueType>
                <TriggerLabel>model</TriggerLabel>
                <ControlPageLabel>model</ControlPageLabel>
            </State>
            <State id="name" defaultValue="">
                <ValueType>String</ValueType>
                <TriggerLabel>name</TriggerLabel>
                <ControlPageLabel>name</ControlPageLabel>
            </State>
            <State id="serial" defaultValue="">
                <ValueType>String</ValueType>
                <TriggerLabel>serial</TriggerLabel>
                <ControlPageLabel>serial</ControlPageLabel>
            </State>
            <State id="type" defaultValue="">
                <ValueType>String</ValueType>
                <TriggerLabel>type</TriggerLabel>
                <ControlPageLabel>type</ControlPageLabel>
            </State>
            <State id="zone" defaultValue="">
                <ValueType>String</ValueType>
                <TriggerLabel>zone</TriggerLabel>
                <ControlPageLabel>zone</ControlPageLabel>
            </State>
        </States>
    </Device>
</Devices>