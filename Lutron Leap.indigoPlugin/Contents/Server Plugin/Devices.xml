<?xml version="1.0"?>
<Devices>
    <Device id="leapBridge" type="custom">
        <Name>Lutron Bridge</Name>
        <ConfigUI>
            <Field id="paired" type="checkbox" defaultValue="false" hidden="true" />
            <Field id="address" type="menu">
                <Label>Bridge:</Label>
                <List class="self" method="get_found_bridges" dynamicReload="true"/>
                <CallbackMethod>menuChanged</CallbackMethod>
            </Field>
            <Field id="pair_bridge_note" type="label">
                <Label>Pressing "Save" here will initiate the pairing process with the bridge. Press the pairing button on Bridge device.</Label>
            </Field>
        </ConfigUI>
        <States>
            <State id="status" defaultValue="Unknown">
                <ValueType>String</ValueType>
	            <TriggerLabel>System State is</TriggerLabel>
	            <ControlPageLabel>System State</ControlPageLabel>
            </State>
            <State id="protocol_version" defaultValue="">
                <ValueType>String</ValueType>
                <TriggerLabel>Protocol Version</TriggerLabel>
                <ControlPageLabel>Protocol Version</ControlPageLabel>
            </State>
            <State id="name" defaultValue="">
                <ValueType>String</ValueType>
                <TriggerLabel>Name</TriggerLabel>
                <ControlPageLabel>Name</ControlPageLabel>
            </State>
            <State id="model" defaultValue="">
                <ValueType>String</ValueType>
                <TriggerLabel>Model</TriggerLabel>
                <ControlPageLabel>Model</ControlPageLabel>
            </State>
            <State id="serial" defaultValue="">
                <ValueType>String</ValueType>
                <TriggerLabel>Serial Number</TriggerLabel>
                <ControlPageLabel>Serial Number</ControlPageLabel>
            </State>
            <State id="dev_type" defaultValue="">
                <ValueType>String</ValueType>
                <TriggerLabel>Device Type</TriggerLabel>
                <ControlPageLabel>Device Type</ControlPageLabel>
            </State>
        </States>
        <UiDisplayStateId>status</UiDisplayStateId>
    </Device>

    <Device id="leapDimmer" type="dimmer">
        <Name>Dimmer</Name>
        <ConfigUI>
			<Field id="SupportsOnState" type="checkbox" defaultValue="true" hidden="true" />
            <Field id="address" type="textfield" hidden="true" />
             <Field id="bridge" type="menu">
                <Label>Bridge:</Label>
                <List class="self" method="get_found_bridges" dynamicReload="true"/>
                <CallbackMethod>menuChanged</CallbackMethod>
            </Field>
             <Field id="room" type="menu" defaultValue="" >
                <Label>Room Location:</Label>
                <List class="self" method="room_list_add" dynamicReload="true"/>
           </Field>
            <Field id="device" type="menu">
                <Label>Bridge:</Label>
                <List class="self" method="get_device_list" filter="dimmer" dynamicReload="true"/>
                <CallbackMethod>menuChanged</CallbackMethod>
            </Field>
        </ConfigUI>
        <States>
            <State id="area" defaultValue="">
                <ValueType>String</ValueType>
                <TriggerLabel>Area</TriggerLabel>
                <ControlPageLabel>Area</ControlPageLabel>
            </State>
            <State id="device_id" defaultValue="">
                <ValueType>String</ValueType>
                <TriggerLabel>device_id</TriggerLabel>
                <ControlPageLabel>device_id</ControlPageLabel>
            </State>
            <State id="device_name" defaultValue="">
                <ValueType>String</ValueType>
                <TriggerLabel>device_name</TriggerLabel>
                <ControlPageLabel>device_name</ControlPageLabel>
            </State>
            <State id="model" defaultValue="">
                <ValueType>String</ValueType>
                <TriggerLabel>model</TriggerLabel>
                <ControlPageLabel>model</ControlPageLabel>
            </State>
            <State id="name" defaultValue="">
                <ValueType>String</ValueType>
                <TriggerLabel>name</TriggerLabel>
                <ControlPageLabel>name</ControlPageLabel>
            </State>
            <State id="serial" defaultValue="">
                <ValueType>String</ValueType>
                <TriggerLabel>serial</TriggerLabel>
                <ControlPageLabel>serial</ControlPageLabel>
            </State>
            <State id="dev_type" defaultValue="">
                <ValueType>String</ValueType>
                <TriggerLabel>Device Type</TriggerLabel>
                <ControlPageLabel>Device Type</ControlPageLabel>
            </State>
            <State id="zone" defaultValue="">
                <ValueType>String</ValueType>
                <TriggerLabel>zone</TriggerLabel>
                <ControlPageLabel>zone</ControlPageLabel>
            </State>
        </States>
    </Device>
</Devices>